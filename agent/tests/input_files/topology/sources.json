[
  {
    "type": "topology",
    "name": "topology",
    "config": {
      "entities": {
        "region": {
          "source": {
            "type": "file",
            "format": "CSV",
            "path": "/usr/src/app/tests/input_files/topology/region.csv"
          },
          "fields": {
            "id": {
              "type": "variable",
              "value_path": "Full Name"
            },
            "name": {
              "type": "variable",
              "value_path": "Full Name"
            },
            "type": {
              "type": "constant",
              "value": "Province"
            }
          }
        },
        "site": {
          "source": {
            "type": "API",
            "url": "http://dummy_destination/api/v1/site",
            "authentication": {
              "type": "basic",
              "username": "admin",
              "password": "admin"
            }
          },
          "fields": {
            "id": {
              "type": "variable",
              "value_path": "attributes.name"
            },
            "parent_region_dimension_id": {
              "type": "variable",
              "value_path": "attributes.name",
              "transformations": [
                {
                  "type": "function",
                  "name": "substring",
                  "args": [0, 2]
                },
                {
                  "type": "lookup",
                  "name": "region",
                  "key": "Short Name",
                  "value": "Full Name"
                }
              ]
            },
            "name": {
              "type": "variable",
              "value_path": "attributes.name"
            },
            "type": {
              "type": "constant",
              "value": "Mobile RAN"
            },
            "domain": {
              "type": "constant",
              "value": "RAN"
            },
            "lat": {
              "type": "variable",
              "value_path": "attributes.p_lat"
            },
            "lon": {
              "type": "variable",
              "value_path": "attributes.p_lon"
            },
            "address": {
              "type": "variable",
              "value_path": ["attributes.street", "attributes.house"],
              "concat_by": ", "
            }
          }
        }
      }
    }
  }
]